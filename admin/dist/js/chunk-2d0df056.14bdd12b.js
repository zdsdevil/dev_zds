(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0df056"],{"87ab":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",{attrs:{title:"评论"}},[t.comments.length?[n("comment",{attrs:{blogId:t.blogId,list:t.comments}})]:t._e(),n("a-comment",[n("a-avatar",{attrs:{slot:"avatar",src:"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png",alt:"Han Solo"},slot:"avatar"}),n("div",{attrs:{slot:"content"},slot:"content"},[n("a-form-item",[n("a-textarea",{attrs:{rows:4,value:t.value},on:{change:t.handleChange}})],1),n("a-form-item",[n("a-button",{attrs:{"html-type":"submit",loading:t.submitting,type:"primary"},on:{click:function(e){return t.handleSubmit()}}},[t._v(" 提交 ")])],1)],1)],1)],2)},o=[],s=n("063c"),l=n("c1df"),i=n.n(l),r={props:{blogId:{type:String,default:""}},data:function(){return{replyId:"",action:null,moment:i.a,comments:[],submitting:!1,value:"",replayContent:""}},watch:{blogId:function(){this.getCommentList()}},mounted:function(){},methods:{getCommentList:function(){var t=this;Object(s["c"])({blogId:this.blogId}).then((function(e){t.comments=e.result.data}))},handleSubmit:function(t){var e=this;if(this.value||this.replayContent){this.submitting=!0;var n={blogId:this.blogId,content:t?this.replayContent:this.value,createdTime:i()().fromNow()};t&&(n.root_commentId=t.root_commentId||t._id,n.reply_sno=t.reply_sno?t.reply_sno+1:1,n.reply_userId=t.auth._id,n.reply_commentId=t._id),Object(s["a"])(n).then((function(t){e.$message.success("评论成功！"),e.value="",e.submitting=!1,e.replyId="",e.getCommentList()}))}},handleChange:function(t){this.value=t.target.value}}},c=r,m=n("2877"),u=Object(m["a"])(c,a,o,!1,null,null,null);e["default"]=u.exports}}]);